{"ast":null,"code":"/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { updateCartItemQuantity, removeCartItemQuantity } from './utils/cartUtils';\nimport { persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['cartItems']\n};\nconst INITIAL_DIRECTORY = {\n  sections: [{\n    title: 'hats',\n    imageUrl: 'https://i.ibb.co/cvpntL1/hats.png',\n    id: 1,\n    linkUrl: 'shop/hats'\n  }, {\n    title: 'jackets',\n    imageUrl: 'https://i.ibb.co/px2tCc3/jackets.png',\n    id: 2,\n    linkUrl: 'shop/jackets'\n  }, {\n    title: 'sneakers',\n    imageUrl: 'https://i.ibb.co/0jqHpnp/sneakers.png',\n    id: 3,\n    linkUrl: 'shop/sneakers'\n  }, {\n    title: 'womens',\n    imageUrl: 'https://i.ibb.co/GCCdy8t/womens.png',\n    size: 'large',\n    id: 4,\n    linkUrl: 'shop/womens'\n  }, {\n    title: 'mens',\n    imageUrl: 'https://i.ibb.co/R70vBrQ/men.png',\n    size: 'large',\n    id: 5,\n    linkUrl: 'shop/mens'\n  }]\n};\nconst initialState = {\n  currentUser: null,\n  showCartDropdown: false,\n  cartItems: [],\n  directory: INITIAL_DIRECTORY,\n  shop: {}\n}; // eslint-disable-next-line\n// @ts-ignore\n\nconst rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_CURRENTUSER':\n      return { ...state,\n        currentUser: action.data\n      };\n\n    case 'SET_SHOP':\n      return { ...state,\n        shop: action.data\n      };\n\n    case 'TOGGLE_CART_DROPDOWN':\n      return { ...state,\n        showCartDropdown: !state.showCartDropdown\n      };\n\n    case 'ADD_CART_ITEM':\n      const newCartItem = updateCartItemQuantity(state.cartItems, action.data);\n      return { ...state,\n        cartItems: newCartItem\n      };\n\n    case 'CLEAR_CART_ITEM':\n      return { ...state,\n        cartItems: state.cartItems.filter(({\n          id\n        }) => id !== action.data)\n      };\n\n    case 'REMOVE_CART_ITEM':\n      return { ...state,\n        cartItems: removeCartItemQuantity(state.cartItems, action.data)\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default persistReducer(persistConfig, rootReducer);","map":{"version":3,"sources":["/Users/cyril/crwn-clothing/src/redux/reducer.ts"],"names":["updateCartItemQuantity","removeCartItemQuantity","persistReducer","storage","persistConfig","key","whitelist","INITIAL_DIRECTORY","sections","title","imageUrl","id","linkUrl","size","initialState","currentUser","showCartDropdown","cartItems","directory","shop","rootReducer","state","action","type","data","newCartItem","filter"],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { updateCartItemQuantity, removeCartItemQuantity } from './utils/cartUtils';\nimport { persistReducer } from 'redux-persist';\nimport storage  from 'redux-persist/lib/storage';\nimport SHOP_DATA, { IShop } from './shopData';\n\nconst persistConfig = {\n    key: 'root',\n    storage,\n    whitelist: ['cartItems'],\n};\n\nexport interface ICurrentUser {\n    displayName?: string | undefined;\n    email?: string | undefined;\n    id: string,\n}\n\nexport interface ICartItems {\n    name: string;\n    price: number;\n    imageUrl: string;\n    id: number;\n    quantity?: number;\n}\n\nexport interface ISection {\n    title: string;\n    imageUrl: string;\n    id: number;\n    linkUrl: string;\n    size?: string;\n}\n\nexport interface IDirectory {\n    sections: ISection[];\n}\n\nexport interface IState {\n    currentUser: ICurrentUser | null;\n    showCartDropdown: boolean;\n    cartItems: ICartItems[];\n    directory: IDirectory;\n    shop: IShop | {},\n}\n\nconst INITIAL_DIRECTORY = { sections: [\n    {\n        title: 'hats',\n        imageUrl: 'https://i.ibb.co/cvpntL1/hats.png',\n        id: 1,\n        linkUrl: 'shop/hats'\n    },\n    {\n        title: 'jackets',\n        imageUrl: 'https://i.ibb.co/px2tCc3/jackets.png',\n        id: 2,\n        linkUrl: 'shop/jackets'\n    },\n    {\n        title: 'sneakers',\n        imageUrl: 'https://i.ibb.co/0jqHpnp/sneakers.png',\n        id: 3,\n        linkUrl: 'shop/sneakers'\n    },\n    {\n        title: 'womens',\n        imageUrl: 'https://i.ibb.co/GCCdy8t/womens.png',\n        size: 'large',\n        id: 4,\n        linkUrl: 'shop/womens'\n    },\n    {\n        title: 'mens',\n        imageUrl: 'https://i.ibb.co/R70vBrQ/men.png',\n        size: 'large',\n        id: 5,\n        linkUrl: 'shop/mens'\n    }\n]};\n\nconst initialState: IState = {\n    currentUser: null,\n    showCartDropdown: false,\n    cartItems: [],\n    directory: INITIAL_DIRECTORY,\n    shop: {},\n};\n\n// eslint-disable-next-line\n// @ts-ignore\nconst rootReducer = (state = initialState, action) => {\n    switch(action.type) {\n    case 'SET_CURRENTUSER': \n        return {\n            ...state,\n            currentUser: action.data,\n        };\n    case 'SET_SHOP': \n        return {\n            ...state,\n            shop: action.data,\n        };\n    case 'TOGGLE_CART_DROPDOWN': \n        return {\n            ...state,\n            showCartDropdown: !state.showCartDropdown,\n        };\n    case 'ADD_CART_ITEM':\n        const newCartItem = updateCartItemQuantity(state.cartItems, action.data);\n        return {\n            ...state,\n            cartItems: newCartItem,\n        };\n    case 'CLEAR_CART_ITEM': \n        return {\n            ...state,\n            cartItems: state.cartItems.filter(({ id }) => id !== action.data),\n        };\n    case 'REMOVE_CART_ITEM': \n        return {\n            ...state,\n            cartItems: removeCartItemQuantity(state.cartItems, action.data),\n        }; \n    default:\n        return state;\n    }\n};\n\nexport default persistReducer(persistConfig, rootReducer);"]},"metadata":{},"sourceType":"module"}